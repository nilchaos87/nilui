<script>
import { link } from 'nilutil';

export default {
  data() {
    return {
      size: 0
    };
  },
  oncreate() {
    const { container } = this.refs;

    const head = container.closest('html').querySelector('head');
    if (!head.querySelector('link[href*="font-awesome"]')) {
      const fa = link('https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css', 'stylesheet');
      head.appendChild(fa);
    }

    this.set({ size: container.offsetWidth });
  }
}
</script>
<div on:click="fire('select')" class="menu-item-container {{active ? 'active' : ''}}" ref:container>
  <div class="body" style="border-radius: {{size / 10}}px">
    <i class="icon fa fa-{{icon}}" style="font-size: {{size / 2}}px; line-height: {{size}}px"></i>
  </div>
</div>
<style>
.menu-item-container {
  width: 100%;
  cursor: pointer;
}

.body {
  color: #666;
  width: 100%;
  height: 100%;
  text-align: center;
}

.menu-item-container:hover .body {
  color: #ccc;
}

.menu-item-container.active .body {
  background: #666;
  color: #000;
}

.menu-item-container.active:hover .body {
  background: #ccc;
  color: #000;
}
</style>
